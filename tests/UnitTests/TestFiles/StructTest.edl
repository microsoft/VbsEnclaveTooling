// Copyright (c) Open Enclave SDK contributors.
// Licensed under the MIT License.
// 
// Copyright (c) Microsoft Corporation.
// Licensed under the MIT License.
// This file has been modified and adapted from its original
// which was created by Open Enclave.
// File used for testing purposes

enclave
{
    struct MyStruct0
    {
        int x;
    };

    struct MyStruct1
    {
        MyStruct0 s0;
        int y;
    };

    struct MyStruct_node
    {
        char data;
        struct MyStruct_node *next;
    };

    trusted 
    {
        MyStruct1 TrustedGetStruct1 (
            MyStruct1 a1,

            // Array of structs
            [in] MyStruct1 a2[5],
            [in, out] MyStruct1 a3[5][5],
            [out] MyStruct1 a4[1][1][1],
            
            [in] MyStruct1* a5,
            [in, out] MyStruct1* a6,
            [out] MyStruct1* a7,

            [in, count=5] MyStruct1* a8,
            [in, out, count=5] MyStruct1* a9,
            [out, count=5] MyStruct1* a10,

            [in, size=40] MyStruct1* a11,
            [in, out, size=40] MyStruct1* a12,
            [out, size=40] MyStruct1* a13,
            
            [in, count=count] MyStruct1* a14,
            [in, out, count=count] MyStruct1* a15,
            [out, count=count] MyStruct1* a16,            

            [in, size=size] MyStruct1* a17,
            [in, out, size=size] MyStruct1* a18,
            [out, size=size] MyStruct1* a19,               

            size_t count,
            size_t size
        );
    };

    untrusted
    {
        MyStruct1 UntrustedGetStruct1 (
            MyStruct1 a1,

            // Array of structs
            [in] MyStruct1 a2[5],
            [in, out] MyStruct1 a3[5][5],
            [out] MyStruct1 a4[1][1][1],
            
            [in] MyStruct1* a5,
            [in, out] MyStruct1* a6,
            [out] MyStruct1* a7,

            [in, count=5] MyStruct1* a8,
            [in, out, count=5] MyStruct1* a9,
            [out, count=5] MyStruct1* a10,

            [in, size=40] MyStruct1* a11,
            [in, out, size=40] MyStruct1* a12,
            [out, size=40] MyStruct1* a13,
            
            [in, count=count] MyStruct1* a14,
            [in, out, count=count] MyStruct1* a15,
            [out, count=count] MyStruct1* a16,            

            [in, size=size] MyStruct1* a17,
            [in, out, size=size] MyStruct1* a18,
            [out, size=size] MyStruct1* a19,               

            size_t count,
            size_t size
        );
    };
};
