# What is this for?
The content in the `Enclave` and `HostApp` folders contain the latest code generated by the `edlcodegen` executable. Whenever someone opens a pull request that changes the generated code, these folders make it easy for reviewers to compare and see exactly what's changed.

> [!IMPORTANT]
> The content of the `Enclave` and `HostApp` folders should always show the current output of the `edlcodegen` executable.

## How to update
1. Use the `CodeGenerationState.edl` file to generate the files in the `Enclave` and `HostApp` folders.
1. Use the following in your `Enclave` projects `vcxproj/props/targets` file
```xml  
  <PropertyGroup>
    <VbsEnclaveVirtualTrustLayer>Enclave</VbsEnclaveVirtualTrustLayer>
    <VbsEnclaveEdlPath>Insert-Path-to-CodeGenerationState.edl-here</VbsEnclaveEdlPath>
    <VbsEnclaveNamespace>CodeGenTest</VbsEnclaveNamespace>
  </PropertyGroup>
  ```
1. Use the following in your `HostApp` projects `vcxproj/props/targets` file
```xml
  <PropertyGroup>
    <VbsEnclaveVirtualTrustLayer>HostApp</VbsEnclaveVirtualTrustLayer>
    <VbsEnclaveEdlPath>Insert-Path-to-CodeGenerationState.edl-here</VbsEnclaveEdlPath>
    <VbsEnclaveNamespace>CodeGenTest</VbsEnclaveNamespace>
    <VbsEnclaveVtl0ClassName>CodeGenTestClass</VbsEnclaveVtl0ClassName>
  </PropertyGroup>
```
1. Build both projects to generate both the `HostApp` side and the `Enclave` side
1. Overwrite the current content of the folders with the output from your projects `Generated Files\VbsEnclave` folder.
1. Make sure that you delete any files from the current folders if your updates to the codegen no longer generates them or renames them.
1. Add these newly updated files to your pull request.

> [!NOTE]
> Add only files that the `edlcodegen` executable generates itself. The header file generated by the `flatc` executable is not needed (`vbsenclave_flatbuffer_support_generated.h`). 